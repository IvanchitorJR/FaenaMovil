import { LineEdit } from "std-widgets.slint";

export component MainUI inherits Window {
    width: 300px;
    height: 250px;
    title: "Validación visual";

    property <string> user_input: "";
    property <string> error_msg: "";
    property <color> text_color: red;
    property <color> input_border_color: #cccccc;

    VerticalLayout {
        spacing: 12px;
        padding: 19px;

        // Campo con borde personalizado
        Rectangle {
            border-width: 2px;
            border-color: root.input_border_color;
            border-radius: 6px;
            background: white;
            height: 42px;

            LineEdit {
                text <=> root.user_input;
                placeholder-text: "Escribe algo";
                x: 6px;
                y: 6px;
                width: parent.width - 12px;
                height: parent.height - 12px;
                font-size: 16px;
            }
        }

        // Mensaje de validación
        Text {
            text: root.error_msg;
            color: root.text_color;
            horizontal-alignment: left;
        }

        // Botón Validar
        Rectangle {
            background: #007BFF;
            height: 40px;
            border-radius: 8px;

            Text {
                text: "Validar";
                color: white;
                horizontal-alignment: center;
                vertical-alignment: center;
            }

            TouchArea {
                clicked => {
                    if (root.user_input == "") {
                        root.error_msg = "El campo no puede estar vacío";
                        root.text_color = #ff0000;
                        root.input_border_color = #ff0000;
                    } else {
                        root.error_msg = "¡Campo válido!";
                        root.text_color = #00aa00;
                        root.input_border_color = #00aa00;
                    }
                }
            }
        }
    }
}